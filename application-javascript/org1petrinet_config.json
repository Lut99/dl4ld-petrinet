{
	"places": [
		{"id": "AUTH_NETWORK", "isLocked": false, "type": "AUTH"},
		{"id": "IP_LIST", "isLocked": false, "type": "DATA"},
		{"id": "P002", "isLocked": false, "type": "DATA"},
		{"id": "P003", "isLocked": false, "type": "DATA"},
		{"id": "P004", "isLocked": false, "type": "DATA"},
		{"id": "P005", "isLocked": false, "type": "DATA"},
		{"id": "V011", "isLocked": false, "type": "DATA"},
		{"id": "V012", "isLocked": false, "type": "DATA"},
		{"id": "V021", "isLocked": false, "type": "DATA"},
		{"id": "V022", "isLocked": false, "type": "DATA"},
		{"id": "V031", "isLocked": false, "type": "DATA"},
		{"id": "V032", "isLocked": false, "type": "DATA"},
		{"id": "V041", "isLocked": false, "type": "DATA"},
		{"id": "V042", "isLocked": false, "type": "DATA"},
		{"id": "T0011", "isLocked": false, "type": "DATA"},
		{"id": "T0012", "isLocked": false, "type": "DATA"},
		{"id": "T0021", "isLocked": false, "type": "DATA"},
		{"id": "T0022", "isLocked": false, "type": "DATA"},
		{"id": "T0031", "isLocked": false, "type": "DATA"},
		{"id": "T0032", "isLocked": false, "type": "DATA"},
		{"id": "T0041", "isLocked": false, "type": "DATA"},
		{"id": "T0042", "isLocked": false, "type": "DATA"},
		{"id": "FT001", "isLocked": false, "type": "DATA"},
		{"id": "FT002", "isLocked": false, "type": "DATA"},
		{"id": "FT003", "isLocked": false, "type": "DATA"},
		{"id": "FT004", "isLocked": false, "type": "DATA"}
	],
	"tokens": [
		{ "id": "ORG1_AUTH", "data": {}, "owner": "Org1MSP", "type": "AUTH" },
		{ "id": "IP_TO_BLOCK", "data": "200.2.0.2", "owner": "Org1MSP", "type": "DATA" }
	],
	"transitions": [
		{ "id": "ddos_alert", "action": { "type": "nl.dl4ld.function", "functionName": "alert", "params":{} }},
		{ "id": "as20r1_b", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "docker", "params": {"name":"as20r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "as30r1_b", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "docker", "params": {"name":"as30r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "as100r1_b", "owner": "Org1MSP", "action": { "type": "nl.dl4ld.function", "functionName": "docker", "params": {"name":"as100r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "as200r1_b", "owner": "Org2MSP", "action": { "type": "nl.dl4ld.function", "functionName": "docker", "params": {"name":"as200r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "ddos_defense", "action": { "type": "nl.dl4ld.function", "functionName": "done", "params": {} }},
		{ "id": "validator_o11", "owner": "Org1MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as20r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o21", "owner": "Org2MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as30r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o31", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as100r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o41", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as200r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o12", "owner": "Org1MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as20r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o22", "owner": "Org2MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as30r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o32", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as100r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "validator_o42", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "validate", "params": {"name":"as200r1", "cmd": "route add -host $cmdParam reject" } }},
		{ "id": "gen_token_o1", "owner": "Org3MSP", "action": { "type": "nl.dl4ld.function", "functionName": "genToken", "params": {"org":"Org1MSP", "type": "AUTH" } }},
		{ "id": "gen_token_o2", "owner": "Org1MSP", "action": { "type": "nl.dl4ld.function", "functionName": "genToken", "params": {"org":"Org2MSP", "type": "AUTH" } }},
		{ "id": "gen_token_o3", "owner": "Org2MSP", "action": { "type": "nl.dl4ld.function", "functionName": "genToken", "params": {"org":"Org3MSP", "type": "AUTH" } }},
		{ "id": "gen_token_o4", "owner": "Org1MSP", "action": { "type": "nl.dl4ld.function", "functionName": "genToken", "params": {"org":"Org3MSP", "type": "AUTH" } }}
	],
	"nets": [
		{
			"id": "BLOCK",
			"admin": "Org1MSP",
			"parties": ["Org1MSP", "Org2MSP", "Org3MSP"],
			"config": {
				"k": 1,
				"type": "workflow",
				"startPlace": "IP_LIST",
				"endPlace": "P010",
				"resetOnEnd": true
			},
			"arcs": [
				{ "id": 2, "src": {"type": "place",	"id": "IP_LIST"}, "dst": { "type": "transition", "id": "ddos_alert"}},
				{ "id": 3, "src": {"type": "place",	"id": "AUTH_NETWORK"}, "dst": { "type": "transition", "id": "ddos_alert"}},
				{ "id": 4, "src": {"type": "transition",	"id": "ddos_alert"}, "dst": { "type": "place", "id": "P002"}},
				{ "id": 5, "src": {"type": "transition",	"id": "ddos_alert"}, "dst": { "type": "place", "id": "P003"}},
				{ "id": 6, "src": {"type": "transition",	"id": "ddos_alert"}, "dst": { "type": "place", "id": "P004"}},
				{ "id": 7, "src": {"type": "transition",	"id": "ddos_alert"}, "dst": { "type": "place", "id": "P005"}},
				{ "id": 8, "src": {"type": "place",	"id": "P002"}, "dst": { "type": "transition", "id": "as20r1_b"}},
				{ "id": 9, "src": {"type": "place",	"id": "P003"}, "dst": { "type": "transition", "id": "as30r1_b"}},
				{ "id": 10, "src": {"type": "place",	"id": "P004"}, "dst": { "type": "transition", "id": "as100r1_b"}},
				{ "id": 11, "src": {"type": "place",	"id": "P005"}, "dst": { "type": "transition", "id": "as200r1_b"}},
				{ "id": 12, "src": {"type": "transition",	"id": "as20r1_b"}, "dst": { "type": "place", "id": "V011"}},
				{ "id": 13, "src": {"type": "transition",	"id": "as30r1_b"}, "dst": { "type": "place", "id": "V021"}},
				{ "id": 14, "src": {"type": "transition",	"id": "as100r1_b"}, "dst": { "type": "place", "id": "V031"}},
				{ "id": 15, "src": {"type": "transition",	"id": "as200r1_b"}, "dst": { "type": "place", "id": "V041"}},
				{ "id": 16, "src": {"type": "transition",	"id": "as20r1_b"}, "dst": { "type": "place", "id": "V012"}},
				{ "id": 17, "src": {"type": "transition",	"id": "as30r1_b"}, "dst": { "type": "place", "id": "V022"}},
				{ "id": 18, "src": {"type": "transition",	"id": "as100r1_b"}, "dst": { "type": "place", "id": "V032"}},
				{ "id": 19, "src": {"type": "transition",	"id": "as200r1_b"}, "dst": { "type": "place", "id": "V042"}},
				{ "id": 20, "src": {"type": "place",	"id": "V011"}, "dst": { "type": "transition", "id": "validator_o11"}},
				{ "id": 21, "src": {"type": "place",	"id": "V012"}, "dst": { "type": "transition", "id": "validator_o21"}},
				{ "id": 22, "src": {"type": "place",	"id": "V021"}, "dst": { "type": "transition", "id": "validator_o12"}},
				{ "id": 23, "src": {"type": "place",	"id": "V022"}, "dst": { "type": "transition", "id": "validator_o22"}},
				{ "id": 24, "src": {"type": "place",	"id": "V031"}, "dst": { "type": "transition", "id": "validator_o31"}},
				{ "id": 25, "src": {"type": "place",	"id": "V032"}, "dst": { "type": "transition", "id": "validator_o41"}},
				{ "id": 26, "src": {"type": "place",	"id": "V041"}, "dst": { "type": "transition", "id": "validator_o32"}},
				{ "id": 27, "src": {"type": "place",	"id": "V042"}, "dst": { "type": "transition", "id": "validator_o42"}},
				{ "id": 28, "src": {"type": "transition",	"id": "validator_o11"}, "dst": { "type": "place", "id": "T0031"}},
				{ "id": 29, "src": {"type": "transition",	"id": "validator_o21"}, "dst": { "type": "place", "id": "T0032"}},
        { "id": 30, "src": {"type": "transition",	"id": "validator_o12"}, "dst": { "type": "place", "id": "T0041"}},
				{ "id": 31, "src": {"type": "transition",	"id": "validator_o22"}, "dst": { "type": "place", "id": "T0042"}},
        { "id": 32, "src": {"type": "transition",	"id": "validator_o31"}, "dst": { "type": "place", "id": "T0011"}},
				{ "id": 33, "src": {"type": "transition",	"id": "validator_o41"}, "dst": { "type": "place", "id": "T0012"}},
        { "id": 34, "src": {"type": "transition",	"id": "validator_o32"}, "dst": { "type": "place", "id": "T0021"}},
				{ "id": 35, "src": {"type": "transition",	"id": "validator_o42"}, "dst": { "type": "place", "id": "T0022"}},
				{ "id": 36, "src": {"type": "place",	"id": "T0031"}, "dst": { "type": "transition", "id": "gen_token_o3"}},
				{ "id": 37, "src": {"type": "place",	"id": "T0032"}, "dst": { "type": "transition", "id": "gen_token_o3"}},
				{ "id": 38, "src": {"type": "place",	"id": "T0011"}, "dst": { "type": "transition", "id": "gen_token_o1"}},
				{ "id": 39, "src": {"type": "place",	"id": "T0012"}, "dst": { "type": "transition", "id": "gen_token_o1"}},
				{ "id": 40, "src": {"type": "place",	"id": "T0021"}, "dst": { "type": "transition", "id": "gen_token_o2"}},
				{ "id": 41, "src": {"type": "place",	"id": "T0022"}, "dst": { "type": "transition", "id": "gen_token_o2"}},
				{ "id": 42, "src": {"type": "place",	"id": "T0041"}, "dst": { "type": "transition", "id": "gen_token_o4"}},
				{ "id": 43, "src": {"type": "place",	"id": "T0042"}, "dst": { "type": "transition", "id": "gen_token_o4"}},
        { "id": 44, "src": {"type": "transition",	"id": "gen_token_o1"}, "dst": { "type": "place", "id": "FT001"}},
        { "id": 45, "src": {"type": "transition",	"id": "gen_token_o2"}, "dst": { "type": "place", "id": "FT002"}},
        { "id": 46, "src": {"type": "transition",	"id": "gen_token_o3"}, "dst": { "type": "place", "id": "FT003"}},
        { "id": 47, "src": {"type": "transition",	"id": "gen_token_o4"}, "dst": { "type": "place", "id": "FT004"}}
			],
			"statements": [
				{ "id": "statement01", "description": "If DOS detected then alert Org1MSP, Org2MSP, Org3MSP.", "firings": ["ddos_alert"] },
				{ "id": "statement02", "description": "On alert, Org1MSP must block IPs on router AS100R1.", "transitions": ["as100r1_b"] },
				{ "id": "statement03", "description": "On alert, Org2MSP must block IPs on router AS200R1.", "transitions": ["as200r1_b"] },
				{ "id": "statement04", "description": "On alert, Org3MSP must block IPs on router AS20R1.", "transitions": ["as20r1_b"] },
				{ "id": "statement05", "description": "On alert, Org3MSP must block IPs on router AS30R1.", "transitions": ["as30r1_b"] },
				{ "id": "statement06", "description": "If Org1MSP, Org2MSP, Org3MSP perform action then agreement is complete.", "firings": ["ddos_defense"] }
			]
		}
	],
	"instructions": [
	],
	"other":[
			{ "cmd": "move", "net": "N003", "token": "TK001", "place": "P001" },
			{ "cmd": "delete", "asset": "transition", "id": "ddos_alert" },
			{ "cmd": "move", "net": "N001", "token": "TK002", "place": "P001" }
	]
}
